<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <Title>MusicMaps</Title>
    <!--Stylesheets-->
    <link rel="stylesheet" href="visualizer.css">
    <link rel="stylesheet" href="playback_controls.css">
    <!--Icons-->
    <script src="https://kit.fontawesome.com/701d96b6b0.js" crossorigin="anonymous"></script>
    <!--<script type="module" src="./js/input_knobs.js"></script>-->
    <script src="https://raw.githubusercontent.com/jherrm/knobs/main/Knob.js"></script>
</head>
<body>
    <!--Header-->
    <header>
        <!--Page Title-->
        <h1>Audio Visualization</h1>
        <!--Navigation-->
        <nav id="nav-section">
            <ul>
                <li><a href="../index.html">Home</a></li>
                <li><a href="../data_visualizer/maps.html">Data Maps</a></li>
            </ul>
        </nav>
    </header>
    <!-- Audio source -->
    <audio id="audio-source" src="./assets/demo.mp3"></audio>
    <script type="module" src="js/audio_analysis.js"></script>
    <!-- Visualizer Container -->
    <div id="visualizer">
        <div id="plot-container"></div>
        <div id="visualizer-control-panel">
            <div class="labeled-knob">
                <input type="range" class="input-knob" id="update-rate-knob" value="60" min="10" max="110" step="1" data-src="./assets/Dial_White_Spanning.png" data-sprites="127" data-diameter="25"/>
                <label class="knob-label">Frame Rate</label>
            </div>
            <div class="labeled-knob-group">
                <label class="knob-group-label">Normalization</label>
                <div class="knob-group">
                    <div class="labeled-knob">
                        <input type="range" class="input-knob" id="freq-norm-knob" min="0" max="1" step="0.01" data-src="./assets/Dial_White_Spanning.png" data-sprites="127" data-diameter="25"/>
                        <label class="knob-label">Freq.</label>
                    </div>
                    <div class="labeled-knob">
                        <input type="range" class="input-knob" id="time-norm-knob" min="0" max="1" step="0.01" data-src="./assets/Dial_White_Spanning.png" data-sprites="127" data-diameter="25"/>
                        <label class="knob-label">Time</label>
                    </div>
                </div>
            </div>
            <div class="labeled-knob-group">
                <label class="knob-group-label">Bias</label>
                <div class="knob-group">
                    <div class="labeled-knob">
                        <input type="range" class="input-knob" id="bias-freq-knob" value="0.5" min="0" max="1" step="0.01" data-src="./assets/Dial_White_Centered.png" data-sprites="127" data-diameter="25"/>
                        <label class="knob-label">Bass/Treb.</label>
                    </div>
                    <div class="labeled-knob">
                        <input type="range" class="input-knob" id="bias-strength-knob" value="0.0" min="0" max="2" step="0.01" data-src="./assets/Dial_White_Spanning.png" data-sprites="127" data-diameter="25"/>
                        <label class="knob-label">Strength</label>
                    </div>
                </div>
            </div>
            <script src="./js/input_knobs.js"></script>
        </div>
    </div>
    <script type = "module" src="js/linegraph.js"></script>
    <!--Playback Controls-->
    <div id="playback-control-panel">
        <div id="seek-bar-container">
            <input id="seek-bar" type="range" class="slider" min="0" value="0" step="0.1">
        </div>
        <div id="playback-buttons-container">
            <div id="left-spacing"></div>
            <button id="play-pause-button" playing="false">
                <i id="play-pause-icon" class="fa-solid fa-play"></i>
            </button>
            <button id="loop-enable-button" class="loop_disabled">
                <i id="loop-enable-icon" class="fa-solid fa-repeat"></i>
            </button>
            <div id="volume-settings">
                <button id="volume-button" muted="false">
                    <i id="volume-icon" class="fa-solid fa-volume-low"></i>
                </button>
                <input id="volume-bar" type="range" class="slider" min="0" max="1" step="0.01" value="0.5">
            </div>
        </div>
    </div>
    <script type="module" src="js/playback_controls.js"></script>
</body>
</html>
